<section *ngIf="cards">
    <h1 class="text-center">GESTION DES CARTES</h1>
    <div class="grid">
        <app-card class="col-12 sm:col-6 xl:col-3" *ngFor="let card of cards" [theme]="card.theme">

            <small text>{{card.question}}</small>

            <button pButton type="button" icon="pi pi-pencil" class="text-white p-button-rounded p-button-raised"
                [style]="{background: card.theme.darkColor, border: 0, boxShadow :'2px 2px 4px ' + card.theme.darkShadow +', -1px -1px 4px ' + card.theme.lightShadow + ''}"
                (mouseover)="designService.changeBtnStyle($event, card.theme, true)"
                (mouseleave)="designService.changeBtnStyle($event, card.theme)">
            </button>
            <button pButton type="button" icon="pi pi-trash" class="text-white p-button-rounded p-button-raised"
                [style]="{background: card.theme.darkColor, border: 0, boxShadow :'2px 2px 4px ' + card.theme.darkShadow +', -1px -1px 4px ' + card.theme.lightShadow + ''}"
                (mouseover)="designService.changeBtnStyle($event, card.theme, true)"
                (mouseleave)="designService.changeBtnStyle($event, card.theme)" (click)="showDialog(card,false)">
            </button>

        </app-card>
    </div>

    <p-dialog [style]="{width: 'fit-content'}" [(visible)]="showdeleteDialog">
        <span class="p-confirm-dialog-message ng-tns-c67-1">Es-tu sûr de vouloir supprimer cette carte ?</span>
        <ng-template pTemplate="footer">
            <button type="button" pButton class="p-button-rounded text-white"
                [style]="{ background: 'var(--light-bg-color)' }" icon="pi pi-times" label="Non"
                (click)="showdeleteDialog = false"></button>
            <button type="button" pButton class="p-button-rounded text-white mr-0" icon="pi pi-check" label="Oui"
                (click)="deleteCard()"></button>
        </ng-template>
    </p-dialog>

    <p-dialog header="Mise à jour" [(visible)]="showUpdateDialog" [style]="{width: '50vw'}">
        <form [formGroup]="updateCardFormGroup" (ngSubmit)="updateCard()">

            <div class="col-12 md:col-6 lg:col-4">
                <label for="float-input-question">question*</label>
                <input id="float-input-question" type="text" pInputText formControlName="question">
            </div>

            <div class="col-12 md:col-6 lg:col-4">
                <label for="float-input-answer">answer*</label>
                <input id="float-input-answer" type="text" pInputText formControlName="answer">
            </div>

            <div class="col-12 md:col-6 lg:col-4">
                <label class="ml-2">theme*</label>
                <p-dropdown [options]="themes" optionLabel="name" optionValue="_id"
                    formControlName="theme"></p-dropdown>
            </div>

            <div class="col-12 md:col-6 lg:col-4">
                <label for="float-input-help">help</label>
                <input id="float-input-help" type="text" pInputText formControlName="help">
            </div>
        </form>
        <ng-template pTemplate="footer">
            <button pButton pRipple type="submit" label="annuler" (click)="showUpdateDialog = false"
                class="p-button-raised p-button-danger p-button-text"></button>
            <button pButton pRipple type="submit" label="modifier" (click)="updateCard()"
                class="p-button-raised p-button-success p-button-text"></button>
        </ng-template>

    </p-dialog>

</section>